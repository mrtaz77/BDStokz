CREATE OR REPLACE FUNCTION DURATION_FORMAT(T IN NUMBER)RETURN VARCHAR2 IS 
TIME VARCHAR2(20);
H NUMBER;
M NUMBER;
BEGIN
	TIME := ''; 
	H := TRUNC(T/60);
	M := (T-TRUNC(T/60)*60);
	IF H > 0 THEN 
		TIME := TIME || H || ' hr ';
	END IF;
	IF M > 0 THEN 
		TIME := TIME || M || ' min';
	END IF;
	RETURN TIME;
EXCEPTION
	WHEN OTHERS THEN 
		RETURN '';
END;
/
	
CREATE OR REPLACE FUNCTION TIME_FORMAT(ts TIMESTAMP) RETURN VARCHAR2 IS
    formatted_time VARCHAR2(15);
BEGIN
    IF EXTRACT(HOUR FROM ts) >= 9 THEN
        formatted_time := TO_CHAR(ts, 'HH:MI AM');
    ELSE
        formatted_time := TO_CHAR(ts, 'HH:MI PM');
    END IF;
    
    RETURN formatted_time;
END;
/